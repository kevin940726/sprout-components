<dom-module id="sprout-product-item">
    <template>
        <style>
            :host {
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-basis: 20%;
                    -ms-flex-preferred-size: 20%;
                        flex-basis: 20%;
            }
            .product {
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                padding: 0 20px;
                box-sizing: border-box;
                font-size: 1rem;
                -webkit-box-align: center;
                -webkit-align-items: center;
                    -ms-flex-align: center;
                        align-items: center;
                -webkit-flex-flow: column;
                    -ms-flex-flow: column;
                        flex-flow: column;
                letter-spacing: 0.1em;
                line-height: 1.6em;
            }

            .col-img {
                position: relative;
                height: 140px;
                width: 140px;
                margin: 0 auto;
                border: 1px solid #fff;
                cursor: pointer;
                -webkit-transform: scale(0.9, 0.9);
                        transform: scale(0.9, 0.9);
                -webkit-transition: -webkit-transform .5s;
                transition: -webkit-transform .5s;
                transition: transform .5s;
                transition: transform .5s, -webkit-transform .5s;
            }

            .col-img:hover {
                -webkit-transform: scale(1.0, 1.0);
                        transform: scale(1.0, 1.0);
            }

            a,
            a:hover {
                text-decoration: none;
            }

            h3 {
                color: #444;
            }

            h3:hover {
                color: #999;
            }

            p {
                color: #666;
                max-width: 100%;
            }

            @media screen and (max-width: 1130px) and (min-width: 765px) {
                :host {
                    -webkit-flex-basis: var(--percent-of-item, 33.3%);
                        -ms-flex-preferred-size: var(--percent-of-item, 33.3%);
                            flex-basis: var(--percent-of-item, 33.3%);
                }
            }

            @media screen and (max-width: 767px) {
                :host {
                    -webkit-flex-basis: 100%;
                        -ms-flex-preferred-size: 100%;
                            flex-basis: 100%;
                }
            }
        </style>

        <div class="product">
            <a href$="{{href}}" class="col-img"><img src$="{{img}}"></a>
            <a href$="{{href}}"><h3>{{title}}</h3></a>
            <p>
                <content></content>
            </p>
        </div>
    </template>

    <script>
        Polymer({
            is: 'sprout-product-item',
            properties: {
                number: {
                    type: Number,
                    value: 3
                }
            },
            resizeEvent: function() {
                this.customStyle['--percent-of-item'] = 100 / this.number + "%";
                this.updateStyles();
            },
            ready: function() {
                this.resizeEvent();
            }
        });
    </script>
</dom-module>

<dom-module id="sprout-product-list">

    <template>
        <style>
            :host {
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                position: relative;
                -webkit-box-pack: start;
                -webkit-justify-content: flex-start;
                    -ms-flex-pack: start;
                        justify-content: flex-start;
                -webkit-box-align: start;-webkit-align-items: flex-start;-ms-flex-align: start;-ms-grid-row-align: flex-start;align-items: flex-start;
                -webkit-flex-wrap: wrap;
                    -ms-flex-wrap: wrap;
                        flex-wrap: wrap;
            }
        </style>

        <content></content>
    </template>

    <script>
        Polymer({
            is: 'sprout-product-list'
        });
    </script>

</dom-module>
